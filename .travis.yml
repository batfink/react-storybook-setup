language: node_js
node_js:
    - '10'
cache: npm
env:
    global:
        secure: U1DdBB37CPqUzZNbYHb6U7nehNDqsUTlFVnsquSVv7jkJO1YLQEPLMmJU3alOLAmM6jcnthSB5eMSNn9jIT9zNIstAEgA7KZ+qBVaoCHnKZCTCMF7Ubf7wYkofNVKpcmvb7I5+GNsgH6ylYHJ4q2umshIoTo09yGEbJ1DMDzhLs45k+Ns+MDmh0zR9LsFet+8IG2tC7zkioytckc9InxKvf1kCruta9zyZ7TyIpIIswFSF673N6ua2yogvmLlZUbhClrwEdGiOuOKz01lldYPyFNsOe/XmjZxLsjRnQZoVQP22Q+BGcpX8TtHjUXn6w7nJjMpOuq3szifxZGldMbtKqBtKgNXiYG47cQ2R5nNchpyAsdqBDE1qffmPOGPFZoDKw3RXHts6bNKWAHBQKrXDDz0ClKv+jF4YGhUkjZpuH6cr35dyZ8RDCs7FceHQQdRbJ9tjVtcK40iuXoRXVRWIScVfGGR/PLs1ypN0BEzVwYsm4+g/cdJahUG4rkJ6eFVLu7QROKUB4WNjtzu0efQglBXI0f2S4yCU+jUMdKsKS66q8laPWbma16lWlUrCKhwAb27iRZJ6l4mamLt9zwRpwVdgRY/YCbqC9T1ps5tdBykE0J3pecPUvUA0X6H3FwSr6tvQHKopc25Nb76kjJkGvKP2sS1aMYzzBwBMfy5eM=
before_install:
    - printf "https://registry.npmjs.org/:_authToken=${NPM_TOKEN}" >> ~/.npmrc
script:
    - npm run lint:js
    - npm run lint:css
    - npm run test
    - commitlint-travis
deploy:
    skip_cleanup: true
    provider: script
    script: npm run lerna publish --yes
    email: vnys@statoil.com
    api_key: $NPM_TOKEN
    on:
        branch: master
        repo: batfink/react-storybook-setup
